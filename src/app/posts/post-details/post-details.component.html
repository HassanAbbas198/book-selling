<div class="container">
  <mat-spinner *ngIf="isLoading"></mat-spinner>
  <mat-card class="post-card" *ngIf="!isLoading && singlePost">
    <mat-card-header>
      <button
        [ngClass]="isFavorite ? 'btn btn-primary' : 'btn btn-secondary'"
        mat-icon-button
        matTooltip="{{
          isFavorite ? 'Remove from favorites' : 'Add to favorites'
        }}"
        matTooltipPosition="left"
        aria-label="Example icon-button with a heart icon"
        (click)="onFavorite(singlePost.id)"
      >
        <mat-icon>favorite</mat-icon>
      </button>

      <!-- <div mat-card-avatar class="post-header-image"></div> -->
      <mat-card-title>{{ singlePost.title }}</mat-card-title>
      <mat-card-subtitle
        >Posted by: {{ singlePost.creatorName }}
      </mat-card-subtitle>
      <mat-card-subtitle> {{ isFavorite }} </mat-card-subtitle>
    </mat-card-header>
    <div>
      <img
        class="post-image"
        mat-card-image
        [src]="singlePost.imagePath"
        [alt]="singlePost.title"
      />
    </div>
    <mat-card-content>
      <div>
        <p class="post-price">
          Price:
          {{ singlePost.price }} LBP
        </p>
        <hr />
        <p class="post-content">{{ singlePost.content }}</p>
      </div>
    </mat-card-content>

    <mat-card-actions
      *ngIf="userIsAuthenticated && userId == singlePost.creatorId"
    >
      <a mat-button color="primary" [routerLink]="['/edit', singlePost.id]"
        >Edit</a
      >
      <button mat-button color="warn" (click)="onDelete(singlePost.id)">
        Delete
      </button>
    </mat-card-actions>
  </mat-card>
</div>
